" vifmè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
" å‚è€ƒ: https://vifm.info/
" å‚è€ƒ: https://github.com/vifm/vifm

" ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ è¨­å®š
colorscheme Default

" åŸºæœ¬è¨­å®š
set fusehome=/tmp/vifm_FUSE                   " FUSEãƒã‚¦ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆ
set history=100                               " ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå±¥æ­´ã®ä¿å­˜æ•°
set ignorecase                                " æ¤œç´¢æ™‚ã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„
set incsearch                                 " ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢ã‚’æœ‰åŠ¹åŒ–
set nofollowlinks                             " ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã®è‡ªå‹•è§£æ±ºã‚’ç„¡åŠ¹åŒ–
set nowrap                                    " é•·ã„ãƒ•ã‚¡ã‚¤ãƒ«åã®æŠ˜ã‚Šè¿”ã—è¡¨ç¤ºã‚’ç„¡åŠ¹åŒ–
set scrolloff=4                               " ã‚«ãƒ¼ã‚½ãƒ«ã¨ç”»é¢ç«¯ã®é–“ã«4è¡Œã®ä½™ç™½ã‚’ä¿æŒ
set smartcase                                 " å¤§æ–‡å­—ãŒå«ã¾ã‚Œã‚‹å ´åˆã®ã¿å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥
set sortnumbers                               " ãƒ•ã‚¡ã‚¤ãƒ«åå†…ã®æ•°å€¤ã‚’è‡ªç„¶é †åºã§ã‚½ãƒ¼ãƒˆ
                                              " ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ³è¡¨ç¤ºå½¢å¼
set statusline="  %t  %= %A %10u:%-7g %15s %20d "
set syscalls                                  " ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚’vifmè‡ªä½“ã§å®Ÿè¡Œï¼ˆé«˜é€ŸåŒ–ï¼‰
set timefmt=%m/%d\ %H:%M                      " æ™‚åˆ»è¡¨ç¤ºãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
set trash                                     " ã‚´ãƒŸç®±æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–
set undolevels=100                            " å…ƒã«æˆ»ã›ã‚‹å¤‰æ›´ã®æœ€å¤§æ•°
set vicmd=vim                                 " ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†æ™‚ã«ä½¿ç”¨ã™ã‚‹ã‚¨ãƒ‡ã‚£ã‚¿
                                              " ã‚«ãƒ©ãƒ è¡¨ç¤ºè¨­å®š
set viewcolumns=-45%{name}..,-{ext},10{size},21{mtime}
set vimhelp                                   " Vimãƒ˜ãƒ«ãƒ—å½¢å¼ã‚’ä½¿ç”¨
set wildmenu                                  " ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³è£œå®Œã‚’æœ‰åŠ¹åŒ–

" macOSãƒ»Unixç’°å¢ƒã§ã®è¿½åŠ è¨­å®š
if has('mac') || has('unix')
  " ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—åˆ¥ã‚¢ã‚¤ã‚³ãƒ³è¨­å®š
  " ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã€Gitã€é›»å­æ›¸ç±ã€PDFã€HTML/XML
  set classify+='â†© ::../::,ğŸ“” ::*.sh::,ğŸ“” ::*.[hc]pp::,ğŸ“” ::*.[hc]::,ğŸ““  ::/^copying|license$/::,ğŸ“¦ ::.git/,,*.git/::,ğŸ“’ ::*.epub,,*.fb2,,*.djvu::,ğŸ“• ::*.pdf::,ğŸ““ ::*.htm,,*.html,,**.[sx]html,,*.xml::'
  " ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«
  set classify+='ğŸ¨ ::*.bmp,,*.gif,,*.jpeg,,*.jpg,,*.ico,,*.png,,*.ppm,,*.svg,,*.svgz,,*.tga,,*.tif,,*.tiff,,*.xbm,,*.xcf,,*.xpm,,*.xspf,,*.xwd::'
  " Officeãƒ•ã‚¡ã‚¤ãƒ«
  set classify+='ğŸ“˜ ::*.doc,,*.docx::,ğŸ“— ::*.xls,,*.xls[mx]::,ğŸ“™ ::*.pptx,,*.ppt::'
  " ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ•ã‚¡ã‚¤ãƒ«
  set classify+='ğŸ“š ::*.7z,,*.ace,,*.arj,,*.bz2,,*.cpio,,*.deb,,*.dz,,*.gz,,*.jar,,*.lzh,,*.lzma,,*.rar,,*.rpm,,*.rz,,*.tar,,*.taz,,*.tb2,,*.tbz,,*.tbz2,,*.tgz,,*.tlz,,*.trz,,*.txz,,*.tz,,*.tz2,,*.xz,,*.z,,*.zip,,*.zoo::'
  " éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«
  set classify+='ğŸ“¢ ::*.aac,,*.anx,,*.asf,,*.au,,*.axa,,*.flac,,*.m2a,,*.m4a,,*.mid,,*.midi,,*.mp3,,*.mpc,,*.oga,,*.ogg,,*.ogx,,*.ra,,*.ram,,*.rm,,*.spx,,*.wav,,*.wma,,*.ac3::'
  " å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«
  set classify+='ğŸ“¹ ::*.avi,,*.axv,,*.divx,,*.m2v,,*.m4p,,*.m4v,,.mka,,*.mkv,,*.mov,,*.mp4,,*.flv,,*.mp4v,,*.mpeg,,*.mpg,,*.nuv,,*.ogv,,*.pbm,,*.pgm,,*.qt,,*.vob,,*.wmv,,*.xvid::'
  " åŸºæœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—
  set classify='ğŸ“ :dir:/,ğŸ’¡ :exe:,ğŸ““ :reg:,ğŸ”— :link:'
  " ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºè¡¨ç¤ºå½¢å¼ï¼ˆIECå˜ä½ã€3æ¡ç²¾åº¦ï¼‰
  set sizefmt=units:iec,precision:3
  " ä½é€Ÿãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
  set slowfs=curlftpfs
  " å€™è£œè¡¨ç¤ºè¨­å®š
  set suggestoptions=normal,visual,view,otherpane,keys,marks,registers
  " è£œå®Œã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å½¢å¼ï¼‰
  set wildstyle=popup
endif

" ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰å®šç¾©
" command! debug echo %d %m 2> /dev/null

" ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
command! search find . -name "%a" %m 2> /dev/null

" ãƒ•ã‚¡ã‚¤ãƒ«çµåˆ
command! concat cat %f > %d/concat.%c

" ZIPåœ§ç¸®ï¼ˆ.DS_Storeé™¤å¤–ï¼‰
command! zip zip -r %f.zip %f -x "*.DS_Store"

" ãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œ
command! run !! ./%f

" Vimã§grepå®Ÿè¡Œ
command! look vi "+grep %a"

" è¨­å®šå†èª­ã¿è¾¼ã¿
command! reload :write | restart

" ã‚¨ãƒ‡ã‚£ã‚¿åˆ¥ã‚³ãƒãƒ³ãƒ‰è¨­å®š
if executable('mvim')
  " MacVimä½¿ç”¨æ™‚
  command! config :!mvim --remote-tab-silent $MYVIFMRC
  command! diff :!mvim -d %f %F
elseif executable('gvim')
  " GVimä½¿ç”¨æ™‚
  command! config :!gvim --remote-tab-silent $MYVIFMRC
  command! diff :!gvim -d %f %F
else
  " æ¨™æº–Viä½¿ç”¨æ™‚
  command! config :write | exe ':!vi $MYVIFMRC' | restart
  command! diff :!vi -d %f %F
endif

" ã‚­ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°è¨­å®š
nnoremap gn :tabnew<cr>
nnoremap <space> t
nnoremap J :concat<cr>
nnoremap t :shell<cr>
nnoremap V v
nnoremap v :view<cr>

" OSåˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³è¨­å®š
if executable('open')
  " macOSç’°å¢ƒ
  nnoremap o :!open -g %f<cr>
endif

if executable('start.exe')
  " Windowsç’°å¢ƒ
  nnoremap o :!start %f<cr>
endif

if executable('xdg-open')
  " Linuxç’°å¢ƒ
  nnoremap o :!xdg-open %f<cr>
else
  " ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  nnoremap o :file &<cr>l
endif

" OSåˆ¥ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰é€£æºè¨­å®š
if executable('pbcopy')
  " macOSç’°å¢ƒ
  nnoremap yp :!printf %d | pbcopy<cr>
  nnoremap yf :!printf %c:p | pbcopy<cr>
elseif executable('clip.exe')
  " Windows/WSLç’°å¢ƒ
  nnoremap yp :!echo %"d:gs!\!/! %i | clip<cr>
  nnoremap yf :!echo %"c:gs!\!/! %i | clip<cr>
elseif executable('wl-copy')
  " Linuxï¼ˆWaylandï¼‰ç’°å¢ƒ
  nnoremap yp :!echo %d | wl-copy<cr>
  nnoremap yf :!echo %c:p | wl-copy<cr>
endif

" macOS Quick Lookãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
if executable('qlmanage')
  " q ã§Quick Lookãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
  nnoremap q :!qlmanage -p %f > /dev/null 2>&1<cr>
endif

" ã‚¨ãƒ‡ã‚£ã‚¿èµ·å‹•è¨­å®š
if executable('mvim')
  " MacVimä½¿ç”¨æ™‚
  nnoremap e :!mvim --remote-tab-silent %f<cr>
elseif executable('gvim')
  " GVimä½¿ç”¨æ™‚
  nnoremap e :!gvim --remote-tab-silent %f<cr>
else
  " æ¨™æº–Viä½¿ç”¨æ™‚
  nnoremap e :!vi %f<cr>
endif

" ã‚»ãƒŸã‚³ãƒ­ãƒ³ã¨ã‚³ãƒ­ãƒ³ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰å…¥ã‚Œæ›¿ãˆ
nnoremap ; :
nnoremap : ;
vnoremap ; :
vnoremap : ;

" éš ã—ãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
nnoremap . zo
nnoremap .. zm

" ãƒšã‚¤ãƒ³é–“ç§»å‹•
nnoremap <Tab> <C-W>w

" åˆå›å®Ÿè¡Œæ™‚ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã§é–‹å§‹
view